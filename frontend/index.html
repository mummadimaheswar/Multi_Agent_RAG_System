<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>AI Smart Assistant ‚Äî Travel & Health</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{--bg:#0f0f0f;--side:#090909;--card:#1a1a1a;--card2:#222;--border:#2a2a2a;--text:#e8e8e8;--muted:#777;--accent:#8B5CF6;--accent2:#10b981;--danger:#f87171;--warn:#fcd34d;--blue:#3b82f6;--pink:#ec4899;--orange:#f97316;--teal:#14b8a6}
    body{font-family:'Segoe UI',-apple-system,system-ui,sans-serif;background:var(--bg);color:var(--text);height:100vh;display:flex;overflow:hidden}

    /* ‚îÄ‚îÄ Sidebar ‚îÄ‚îÄ */
    .side{width:280px;background:var(--side);display:flex;flex-direction:column;border-right:1px solid var(--border);flex-shrink:0;transition:transform .25s ease}
    .side.collapsed{transform:translateX(-280px);position:absolute;z-index:10;height:100%}
    .side-hdr{padding:16px 18px;font-weight:700;font-size:15px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:10px;background:linear-gradient(135deg,#8B5CF611,#10b98111)}
    .side-hdr .logo{width:32px;height:32px;border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:900;color:#fff}
    .new-chat-btn{width:calc(100% - 24px);margin:12px 12px 6px;padding:10px 14px;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;border:none;border-radius:10px;cursor:pointer;font-size:13px;font-weight:600;transition:all .2s;letter-spacing:.3px}
    .new-chat-btn:hover{transform:translateY(-1px);box-shadow:0 4px 20px #8B5CF644}
    .side-body{flex:1;overflow-y:auto;padding:14px 12px}
    .side label{display:block;font-size:11px;color:var(--muted);margin:12px 0 5px;text-transform:uppercase;letter-spacing:.6px;font-weight:600}
    .side input,.side textarea,.side select{width:100%;background:var(--card);border:1px solid var(--border);color:var(--text);border-radius:10px;padding:9px 12px;font-size:12px;outline:none;resize:vertical;transition:border-color .2s}
    .side input:focus,.side textarea:focus,.side select:focus{border-color:var(--accent)}
    .side .row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
    .side-foot{padding:14px 18px;border-top:1px solid var(--border);font-size:10px;color:var(--muted);text-align:center}
    .example-queries{margin-top:16px}
    .example-queries .eq{display:block;padding:8px 12px;background:var(--card);border:1px solid var(--border);border-radius:10px;font-size:11px;color:var(--muted);cursor:pointer;margin:4px 0;transition:all .2s;text-align:left;width:100%}
    .example-queries .eq:hover{border-color:var(--accent);color:var(--text);background:var(--card2)}

    /* ‚îÄ‚îÄ Main ‚îÄ‚îÄ */
    .main{flex:1;display:flex;flex-direction:column;min-width:0}
    .top-bar{display:flex;align-items:center;padding:10px 20px;border-bottom:1px solid var(--border);gap:10px;min-height:48px;background:var(--bg)}
    .menu-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:20px;padding:4px 8px;border-radius:6px;transition:.2s}
    .menu-btn:hover{color:var(--text);background:var(--card)}
    .top-bar .title{font-weight:700;font-size:14px;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .top-bar .status{margin-left:auto;font-size:11px;color:var(--muted);display:flex;align-items:center;gap:6px}
    .top-bar .status .dot{display:inline-block;width:7px;height:7px;border-radius:50%}
    .top-bar .status .dot.on{background:var(--accent2)}.top-bar .status .dot.off{background:var(--danger)}
    .chat{flex:1;overflow-y:auto;padding:0 0 24px}
    .chat-inner{max-width:820px;margin:0 auto;padding:24px 20px}

    /* ‚îÄ‚îÄ Messages ‚îÄ‚îÄ */
    .msg{padding:20px 0;display:flex;gap:14px;border-bottom:1px solid var(--border);animation:fadeIn .35s ease}
    .msg:last-child{border-bottom:none}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    .avatar{width:34px;height:34px;border-radius:10px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:800;color:#fff}
    .avatar.user{background:linear-gradient(135deg,var(--accent),#6d28d9)}
    .avatar.ai{background:linear-gradient(135deg,var(--accent2),var(--teal))}
    .msg-body{flex:1;min-width:0;font-size:14px;line-height:1.7}
    .msg-body p{margin:6px 0}

    /* ‚îÄ‚îÄ Agent Tags ‚îÄ‚îÄ */
    .agent-tag{display:inline-flex;align-items:center;gap:5px;border-radius:8px;padding:4px 12px;font-size:12px;font-weight:700;margin-right:6px;margin-bottom:6px}
    .agent-tag.travel{background:#3b82f618;border:1px solid #3b82f644;color:#60a5fa}
    .agent-tag.financial{background:#10b98118;border:1px solid #10b98144;color:#34d399}
    .agent-tag.health{background:#ec489918;border:1px solid #ec489944;color:#f472b6}

    /* ‚îÄ‚îÄ Route Header ‚îÄ‚îÄ */
    .route-header{background:linear-gradient(135deg,#3b82f612,#8B5CF612);border:1px solid var(--border);border-radius:14px;padding:18px 20px;margin:14px 0;display:flex;align-items:center;gap:16px;flex-wrap:wrap}
    .route-header .from-to{font-size:20px;font-weight:800;display:flex;align-items:center;gap:12px}
    .route-header .arrow{color:var(--blue);font-size:24px}
    .route-header .bt-visit{font-size:11px;color:var(--muted);margin-top:4px}

    /* ‚îÄ‚îÄ Transport Cards ‚îÄ‚îÄ */
    .transport-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin:12px 0}
    .transport-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;transition:all .25s}
    .transport-card:hover{border-color:var(--blue);transform:translateY(-2px);box-shadow:0 8px 30px #3b82f622}
    .transport-card .mode{font-size:14px;font-weight:700;color:var(--blue);display:flex;align-items:center;gap:8px;margin-bottom:8px}
    .transport-card .mode-icon{width:36px;height:36px;border-radius:10px;background:#3b82f618;display:flex;align-items:center;justify-content:center;font-size:18px}
    .transport-card .duration{font-size:12px;color:var(--muted);margin:4px 0}
    .transport-card .cost{font-size:17px;font-weight:700;color:var(--accent2);margin:6px 0}
    .transport-card .details{font-size:11px;color:var(--muted);margin:4px 0;line-height:1.5}
    .book-btn{display:inline-flex;align-items:center;gap:6px;margin-top:10px;padding:8px 16px;color:#fff;border-radius:10px;font-size:12px;font-weight:600;text-decoration:none;transition:all .2s}
    .book-btn:hover{transform:translateY(-1px)}
    .book-btn.blue{background:linear-gradient(135deg,var(--blue),#2563eb)}
    .book-btn.blue:hover{box-shadow:0 4px 16px #3b82f644}
    .book-btn.purple{background:linear-gradient(135deg,var(--accent),#7c3aed)}
    .book-btn.purple:hover{box-shadow:0 4px 16px #8B5CF644}
    .book-btn.pink{background:linear-gradient(135deg,var(--pink),#db2777)}
    .book-btn.pink:hover{box-shadow:0 4px 16px #ec489944}

    /* ‚îÄ‚îÄ Hotel Cards ‚îÄ‚îÄ */
    .hotel-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;margin:12px 0}
    .hotel-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;transition:all .25s}
    .hotel-card:hover{border-color:var(--accent);transform:translateY(-2px);box-shadow:0 8px 30px #8B5CF622}
    .hotel-card .hotel-name{font-size:14px;font-weight:700;color:var(--text);margin-bottom:4px}
    .hotel-card .hotel-type{display:inline-block;padding:2px 8px;border-radius:6px;font-size:10px;font-weight:600;background:#8B5CF622;color:var(--accent);margin-bottom:8px}
    .hotel-card .hotel-area{font-size:11px;color:var(--muted);margin:3px 0}
    .hotel-card .hotel-price{font-size:17px;font-weight:700;color:var(--accent2);margin:6px 0}
    .hotel-card .hotel-why{font-size:11px;color:var(--muted);margin:4px 0;line-height:1.5}

    /* ‚îÄ‚îÄ Doctor Cards ‚îÄ‚îÄ */
    .doctor-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px;margin:12px 0}
    .doctor-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;transition:all .25s;position:relative}
    .doctor-card:hover{border-color:var(--pink);transform:translateY(-2px);box-shadow:0 8px 30px #ec489922}
    .doctor-card .doc-rank{position:absolute;top:12px;right:14px;width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--pink),#db2777);display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:800;color:#fff}
    .doctor-card .doc-name{font-size:15px;font-weight:700;color:var(--text);margin-bottom:4px;padding-right:36px}
    .doctor-card .doc-specialty{display:inline-block;padding:3px 10px;border-radius:6px;font-size:10px;font-weight:600;background:#ec489922;color:var(--pink);margin-bottom:8px}
    .doctor-card .doc-hospital{font-size:12px;color:var(--muted);margin:3px 0}
    .doctor-card .doc-location{font-size:11px;color:var(--muted);margin:3px 0}
    .doctor-card .doc-why{font-size:11px;color:var(--muted);margin:6px 0;line-height:1.5;border-top:1px solid var(--border);padding-top:8px}

    /* ‚îÄ‚îÄ Health Guidance ‚îÄ‚îÄ */
    .health-box{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin:10px 0}
    .health-box h4{font-size:13px;font-weight:700;color:var(--pink);margin-bottom:10px;display:flex;align-items:center;gap:8px}
    .health-box ul{margin:4px 0 4px 18px;font-size:12px;line-height:1.7}
    .health-box li{margin:3px 0}

    /* ‚îÄ‚îÄ Itinerary ‚îÄ‚îÄ */
    .day-card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;margin:8px 0;transition:all .2s}
    .day-card:hover{border-color:var(--blue)}
    .day-card .day-num{font-size:12px;font-weight:700;color:var(--blue);background:#3b82f618;display:inline-block;padding:3px 10px;border-radius:6px;margin-bottom:8px}
    .day-card .time-block{display:flex;gap:8px;margin:5px 0;font-size:12px}
    .day-card .time-label{color:var(--muted);min-width:70px;font-weight:600;font-size:11px}
    .day-card .time-desc{color:var(--text)}
    .day-card .notes{font-size:11px;color:var(--muted);font-style:italic;margin-top:6px;padding-top:6px;border-top:1px solid var(--border)}

    /* ‚îÄ‚îÄ Cost Breakdown ‚îÄ‚îÄ */
    .cost-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:8px;margin:12px 0}
    .cost-item{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px;text-align:center}
    .cost-item .cost-cat{font-size:11px;color:var(--muted);margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}
    .cost-item .cost-val{font-size:16px;font-weight:700;color:var(--accent2)}
    .cost-item .cost-note{font-size:10px;color:var(--muted);margin-top:4px}

    /* ‚îÄ‚îÄ Section Title ‚îÄ‚îÄ */
    .section-title{font-size:14px;font-weight:700;margin:18px 0 8px;display:flex;align-items:center;gap:8px}

    /* ‚îÄ‚îÄ Disclaimer ‚îÄ‚îÄ */
    .disclaimer{margin:14px 0;padding:12px 16px;background:#f9731622;border:1px solid #f9731644;border-radius:12px;font-size:11px;color:var(--orange);display:flex;align-items:flex-start;gap:10px}

    /* ‚îÄ‚îÄ Tips ‚îÄ‚îÄ */
    .tips-list{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
    .tip-badge{padding:6px 14px;background:var(--card);border:1px solid var(--border);border-radius:20px;font-size:11px;color:var(--text)}

    /* ‚îÄ‚îÄ Search Links ‚îÄ‚îÄ */
    .search-links{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
    .search-link{display:inline-flex;align-items:center;gap:6px;padding:8px 14px;background:var(--card);border:1px solid var(--border);border-radius:10px;font-size:11px;color:var(--accent);text-decoration:none;transition:all .2s}
    .search-link:hover{border-color:var(--accent);background:var(--card2);transform:translateY(-1px)}

    /* ‚îÄ‚îÄ Details/Accordion ‚îÄ‚îÄ */
    .msg-body details{margin:8px 0;background:var(--card);border:1px solid var(--border);border-radius:12px}
    .msg-body summary{cursor:pointer;padding:10px 14px;font-size:12px;font-weight:600;color:var(--muted);user-select:none}
    .msg-body summary:hover{color:var(--text)}
    .msg-body details[open] summary{border-bottom:1px solid var(--border)}
    .msg-body .detail-body{padding:12px 14px;font-size:12px;line-height:1.7}

    .msg-body .risk-badge{display:inline-block;border-radius:10px;padding:2px 8px;font-size:10px;font-weight:700}
    .risk-badge.high{background:#7f1d1d;color:#fca5a5}.risk-badge.medium{background:#78350f;color:#fcd34d}.risk-badge.low{background:#064e3b;color:#6ee7b7}
    .msg-body a{color:var(--accent);text-decoration:none}.msg-body a:hover{text-decoration:underline}
    .msg-body pre{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:12px;font-size:11px;overflow-x:auto;white-space:pre-wrap;margin:6px 0}
    .msg-body ul{margin:4px 0 4px 18px;font-size:12px}.msg-body li{margin:3px 0}

    /* ‚îÄ‚îÄ Pipeline progress ‚îÄ‚îÄ */
    .pipeline{margin:10px 0;display:flex;gap:6px;flex-wrap:wrap}
    .pipeline .step{padding:5px 14px;border-radius:14px;font-size:11px;font-weight:600;background:var(--card);border:1px solid var(--border);color:var(--muted);transition:all .3s}
    .pipeline .step.active{border-color:var(--accent);color:var(--accent);animation:pulse 1.5s infinite}
    .pipeline .step.done{border-color:var(--accent2);color:var(--accent2)}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
    .typing{display:flex;gap:5px;padding:8px 0}.typing span{width:7px;height:7px;border-radius:50%;background:var(--muted);animation:blink 1.4s infinite both}
    .typing span:nth-child(2){animation-delay:.2s}.typing span:nth-child(3){animation-delay:.4s}
    @keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}
    .elapsed{font-size:10px;color:var(--muted);margin-top:6px}

    /* ‚îÄ‚îÄ Input bar ‚îÄ‚îÄ */
    .input-bar{border-top:1px solid var(--border);padding:18px 20px;background:var(--bg)}
    .input-wrap{max-width:820px;margin:0 auto;display:flex;gap:12px;align-items:end}
    .input-wrap textarea{flex:1;background:var(--card);border:1px solid var(--border);color:var(--text);border-radius:14px;padding:12px 16px;font-size:14px;resize:none;outline:none;min-height:48px;max-height:160px;line-height:1.5;font-family:inherit}
    .input-wrap textarea:focus{border-color:var(--accent)}
    .input-wrap textarea::placeholder{color:var(--muted)}
    .send-btn{width:44px;height:44px;border-radius:12px;border:none;background:linear-gradient(135deg,var(--accent),#7c3aed);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s}
    .send-btn:hover{transform:translateY(-1px);box-shadow:0 4px 20px #8B5CF644}
    .send-btn:disabled{opacity:.3;cursor:default;transform:none;box-shadow:none}
    .send-btn svg{width:18px;height:18px}
    .footer-note{text-align:center;font-size:10px;color:var(--muted);padding:6px 0}

    @media(max-width:768px){.side{transform:translateX(-280px);position:absolute;z-index:10;height:100%}.side.open{transform:translateX(0)}}
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="side" id="sidebar">
    <div class="side-hdr"><span class="logo">AI</span> Smart Assistant <span style="font-size:10px;color:var(--muted);margin-left:auto">v4</span></div>
    <div class="side-body">
      <button class="new-chat-btn" id="newChatBtn">+ New Chat</button>

      <label>Travel Dates</label>
      <div class="row">
        <input id="s_start" type="date" value="2026-03-10"/>
        <input id="s_end" type="date" value="2026-03-17"/>
      </div>
      <label>Budget</label>
      <div class="row">
        <input id="s_budget" type="number" placeholder="1200" value="1200"/>
        <input id="s_cur" value="USD"/>
      </div>
      <label>Style / Pace</label>
      <div class="row">
        <input id="s_style" placeholder="culture, adventure" value="culture, adventure"/>
        <input id="s_pace" placeholder="relaxed" value="relaxed"/>
      </div>
      <label>Constraints</label>
      <textarea id="s_constraints" rows="2" placeholder="Vegetarian&#10;No red-eye"></textarea>
      <label>Dietary / Limitations</label>
      <div class="row">
        <textarea id="s_diet" rows="2" placeholder="Veg"></textarea>
        <textarea id="s_limit" rows="2" placeholder="Knee pain"></textarea>
      </div>
      <label>Finance</label>
      <div class="row">
        <select id="s_risk"><option value="medium" selected>Medium risk</option><option value="low">Low risk</option><option value="high">High risk</option></select>
        <input id="s_horizon" type="number" placeholder="5" value="5"/>
      </div>
      <label>Seed URLs (optional)</label>
      <textarea id="s_urls" rows="2" placeholder="https://‚Ä¶"></textarea>
      <label>LLM Provider</label>
      <select id="s_llm"><option value="grok">Grok (xAI)</option><option value="openai_compatible">OpenAI-compat</option><option value="stub">Stub (demo)</option></select>
      <label>Model (optional)</label>
      <input id="s_model" placeholder="grok-3-mini-fast"/>

      <div class="example-queries">
        <label>Quick Examples</label>
        <button class="eq" data-q="Plan a trip from Delhi to Goa">üó∫Ô∏è Plan a trip from Delhi to Goa</button>
        <button class="eq" data-q="Plan a trip from New York to Paris">‚úàÔ∏è New York to Paris trip</button>
        <button class="eq" data-q="I have frequent headaches and migraines, suggest best doctors">ü©∫ Headaches &amp; migraine doctors</button>
        <button class="eq" data-q="Best heart specialist doctors for chest pain">‚ù§Ô∏è Heart specialists</button>
        <button class="eq" data-q="Plan a trip from London to Tokyo and suggest health tips">üåè London ‚Üí Tokyo + health tips</button>
      </div>
    </div>
    <div class="side-foot">Smart Routing ¬∑ RAG ¬∑ DL Reranking ¬∑ Dynamic Links</div>
  </aside>

  <!-- Main chat area -->
  <div class="main">
    <div class="top-bar">
      <button class="menu-btn" id="menuBtn" title="Toggle sidebar">&#9776;</button>
      <span class="title">AI Smart Assistant</span>
      <div class="status" id="statusBar"><span class="dot off" id="statusDot"></span><span id="statusText">checking‚Ä¶</span></div>
    </div>
    <div class="chat" id="chat">
      <div class="chat-inner" id="chatInner">
        <div class="msg"><div class="avatar ai">AI</div><div class="msg-body">
          <p style="font-size:16px;font-weight:700;margin-bottom:8px">Welcome! I'm your AI-powered assistant.</p>
          <p style="font-size:13px;color:var(--muted)">I can help you with:</p>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin:12px 0">
            <span class="agent-tag travel">‚úàÔ∏è Travel Planning</span>
            <span class="agent-tag financial">üí∞ Budget Analysis</span>
            <span class="agent-tag health">ü©∫ Health &amp; Doctors</span>
          </div>
          <p style="font-size:13px;margin-top:8px">Try: <b>"Plan a trip from Delhi to Goa"</b> or <b>"Best doctors for migraine"</b></p>
          <p style="color:var(--muted);font-size:11px;margin-top:8px">Set <code>GROK_API_KEY</code> in your <code>.env</code> file. Use "Stub" mode for demo.</p>
        </div></div>
      </div>
    </div>
    <div class="input-bar">
      <div class="input-wrap">
        <textarea id="userInput" rows="1" placeholder="Ask anything ‚Äî plan a trip, find doctors, get health advice‚Ä¶"></textarea>
        <button class="send-btn" id="sendBtn" title="Send"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 2L11 13"/><path d="M22 2L15 22L11 13L2 9L22 2Z"/></svg></button>
      </div>
      <div class="footer-note">AI agents may produce inaccurate info. Always verify via the provided links.</div>
    </div>
  </div>
  <script src="/app.js"></script>
</body>
</html>
